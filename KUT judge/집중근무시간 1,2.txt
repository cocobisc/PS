#define _CRT_SECURE_NO_WARNINGS
#include <iostream>
#include <algorithm>
#include <cstdio>
#include <string>
#include <vector>
#define MAX 501
#define swap(a,b) {char temp = a; a = b; b = temp;}
typedef unsigned long long ull;
using namespace std;
int n;

bool cmp(pair<int, int>a, pair<int, int>b) { return a.first < b.first; }
int main() {
	cin >> n;
	for (; n--;) {
		int num;
		vector<pair<int, int>> v;
		vector<pair<int, int>> answer;
		cin >> num;
		for (int i = 0; i < num; i++) {
			int a, b;
			cin >> a >> b;
			v.push_back(make_pair(a, b));
		}
		sort(v.begin(), v.end(), cmp);
		answer.push_back(v[0]);
		int idx = 0;
		for (int i = 1; i < v.size(); i++) {
			if (answer[idx].first >= v[i].first && v[i].second <= answer[idx].second) continue;
			if (v[i].first <= answer[idx].second) {
				int fir = answer[idx].first;
				int sec = answer[idx].second > v[i].second ? answer[idx].second : v[i].second;
				answer.pop_back();
				answer.push_back(make_pair(fir, sec));
			}
			else {
				answer.push_back(v[i]);
				idx++;
			}
		}
		cout << answer.size() << endl;
		int i;
		for (i = 0; i < answer.size() - 1; i++) printf("%d %d ", answer[i].first, answer[i].second);
		printf("%d %d\n", answer[i].first, answer[i].second);
	}
}